import{j as e,u as N,r as u,L as v}from"./index-BJJqv258.js";import{S as _}from"./Slider-7L-ISYq-.js";import{u as y}from"./useDetectDataType-BZuOtXv7.js";const c={"product-similar":"_product-similar_cc7g3_1","product-details-skeleton":"_product-details-skeleton_cc7g3_13","skeleton-heading":"_skeleton-heading_cc7g3_18","skeleton-title":"_skeleton-title_cc7g3_19","skeleton-text":"_skeleton-text_cc7g3_20","skeleton-price":"_skeleton-price_cc7g3_21","skeleton-slider":"_skeleton-slider_cc7g3_22"},f=({item:t})=>{const s=t!=null&&t.img?`/img/${t.img}`:"/img/placeholder.jpg",r=(t==null?void 0:t.price)??0;return e.jsxs("div",{className:"product","data-testid":"product-container",children:[e.jsx("div",{className:"product-price","data-testid":"product-price",children:r}),e.jsx("img",{loading:"lazy",src:s,className:"product-image",alt:"","data-testid":"product-image"})]})},$="https://pletenyikit.com",E=()=>{const{link:t}=N(),[s,r]=u.useState(null),{category:d,products:m}=y();if(u.useEffect(()=>{if(t){const i=m.find(o=>o.link===t);i&&r(i)}},[t,m]),!s)return e.jsxs("div",{className:c["product-details-skeleton"],children:[e.jsx("div",{className:"heading",children:e.jsx("div",{className:c["skeleton-heading"]})}),e.jsxs("div",{className:"item-all",children:[e.jsx("div",{className:"item-left",children:e.jsx("div",{className:c["skeleton-slider"]})}),e.jsxs("div",{className:"item-right",children:[e.jsx("div",{className:c["skeleton-title"]}),e.jsx("div",{className:c["skeleton-text"]}),e.jsx("div",{className:c["skeleton-text"]}),e.jsx("div",{className:c["skeleton-text"]}),e.jsx("div",{className:c["skeleton-price"]})]})]})]});const p=s.images&&Array.isArray(s.images)?s.images:[],a=s.description&&Array.isArray(s.description)?s.description:[],l=s.similar&&Array.isArray(s.similar)?s.similar:[],k=s.category||"Товар",n=s.name||"",x=s.price??0,g=a.length>0?a[0].slice(0,160):`${n} — плетений виріб ручної роботи. Ціна ${x} грн.`,j=`${$}/${d}/${t}`,h=`${n} | Плетений КіТ`;return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:h}),e.jsx("meta",{name:"description",content:g}),e.jsx("link",{rel:"canonical",href:j}),e.jsx("meta",{property:"og:url",content:j}),e.jsx("meta",{property:"og:title",content:h}),e.jsx("meta",{property:"og:description",content:g}),e.jsx("meta",{property:"og:type",content:"product"}),e.jsx("div",{className:"heading",children:e.jsx("h1",{children:k})}),e.jsxs("div",{className:"item-all",children:[e.jsx("div",{className:"item-left",children:p.length>0?e.jsx(_,{images:p}):e.jsx("div",{className:c["skeleton-slider"]})}),e.jsxs("div",{className:"item-right",children:[e.jsx("h2",{children:n}),a.length>0&&a.map(i=>e.jsx("p",{children:i},i)),e.jsxs("div",{className:"price",children:[x," грн"]})]})]}),l.length>0&&e.jsx("h3",{children:"Схожі товари"}),l.length>0&&e.jsx("div",{className:c["product-similar"],children:l.map((i,o)=>i.link&&e.jsx(v,{to:`/${d}/${i.link}`,children:e.jsx(f,{item:i})},i.link||`similar-${o}`))})]})};export{E as default};
