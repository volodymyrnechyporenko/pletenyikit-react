import{j as e,u as N,r as u,L as v}from"./index-CIxLSlTY.js";import{S as _}from"./Slider-mqSgXo0i.js";import{u as y}from"./useDetectDataType-DvH-T9Xx.js";const i={"product-similar":"_product-similar_cc7g3_1","product-details-skeleton":"_product-details-skeleton_cc7g3_13","skeleton-heading":"_skeleton-heading_cc7g3_18","skeleton-title":"_skeleton-title_cc7g3_19","skeleton-text":"_skeleton-text_cc7g3_20","skeleton-price":"_skeleton-price_cc7g3_21","skeleton-slider":"_skeleton-slider_cc7g3_22"},f=({item:t})=>{const s=t!=null&&t.img?`/img/${t.img}`:"/img/placeholder.jpg",l=(t==null?void 0:t.price)??0;return e.jsxs("div",{className:"product","data-testid":"product-container",children:[e.jsx("div",{className:"product-price","data-testid":"product-price",children:l}),e.jsx("img",{loading:"lazy",src:s,className:"product-image",alt:"","data-testid":"product-image"})]})},$="https://pletenyikit.com",E=()=>{const{link:t}=N(),[s,l]=u.useState(null),{category:d,products:m}=y();if(u.useEffect(()=>{if(t){const c=m.find(a=>a.link===t);c&&l(c)}},[t,m]),!s)return e.jsxs("div",{className:i["product-details-skeleton"],children:[e.jsx("div",{className:"heading",children:e.jsx("div",{className:i["skeleton-heading"]})}),e.jsxs("div",{className:"item-all",children:[e.jsx("div",{className:"item-left",children:e.jsx("div",{className:i["skeleton-slider"]})}),e.jsxs("div",{className:"item-right",children:[e.jsx("div",{className:i["skeleton-title"]}),e.jsx("div",{className:i["skeleton-text"]}),e.jsx("div",{className:i["skeleton-text"]}),e.jsx("div",{className:i["skeleton-text"]}),e.jsx("div",{className:i["skeleton-price"]})]})]})]});const p=s.images&&Array.isArray(s.images)?s.images:[],r=s.description&&Array.isArray(s.description)?s.description:[],n=s.similar&&Array.isArray(s.similar)?s.similar:[],k=s.category||"Товар",o=s.name||"",x=s.price??0,g=r.length>0?r[0].slice(0,160):`${o} — плетений виріб ручної роботи. Ціна ${x} грн.`,j=`${$}/${d}/${t}`,h=`${o} | Плетений КіТ`;return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:h}),e.jsx("meta",{name:"description",content:g}),e.jsx("link",{rel:"canonical",href:j}),e.jsx("meta",{property:"og:url",content:j}),e.jsx("meta",{property:"og:title",content:h}),e.jsx("meta",{property:"og:description",content:g}),e.jsx("meta",{property:"og:type",content:"product"}),e.jsx("div",{className:"heading",children:e.jsx("h1",{children:k})}),e.jsxs("div",{className:"item-all",children:[e.jsx("div",{className:"item-left",children:p.length>0?e.jsx(_,{images:p}):e.jsx("div",{className:i["skeleton-slider"]})}),e.jsxs("div",{className:"item-right",children:[e.jsx("h2",{children:o}),r.length>0&&r.map((c,a)=>e.jsx("p",{children:c},`desc-${a}`)),e.jsxs("div",{className:"price",children:[x," грн"]})]})]}),n.length>0&&e.jsx("h3",{children:"Схожі товари"}),n.length>0&&e.jsx("div",{className:i["product-similar"],children:n.map((c,a)=>c.link&&e.jsx(v,{to:`/${d}/${c.link}`,children:e.jsx(f,{item:c})},c.link||`similar-${a}`))})]})};export{E as default};
