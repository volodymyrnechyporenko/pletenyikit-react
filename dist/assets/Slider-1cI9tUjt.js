import{j as n,r as h,u as b,F as m,f as x,a as p}from"./index-nzXiJc69.js";const d={"slider-container":"_slider-container_1iohr_1","slider-scrollable-block":"_slider-scrollable-block_1iohr_8","slider-card":"_slider-card_1iohr_17","slider-to-left-btn":"_slider-to-left-btn_1iohr_30","slider-to-right-btn":"_slider-to-right-btn_1iohr_34","slider-pagination-container":"_slider-pagination-container_1iohr_60","slider-pagination-btn":"_slider-pagination-btn_1iohr_71","slider-pagination-btn-active":"_slider-pagination-btn-active_1iohr_75"},j=({image:e})=>n.jsx("div",{className:d["slider-card"],children:n.jsx("img",{src:`/img/${e}`,alt:""})}),k=(e,s,t)=>{h.useEffect(()=>{const l=e.current;if(l&&!t){const c=()=>{var f;if(!t){const o=((f=l.children[0])==null?void 0:f.offsetWidth)||0,u=l.scrollLeft,r=Math.round(u/o);s(r)}};return l.addEventListener("scroll",c),()=>{l.removeEventListener("scroll",c)}}},[e,s,t])},v=()=>{const e=h.useRef(null),s=h.useCallback(t=>{if(e.current){const l=e.current.children;if(t>=0&&t<l.length){const c=l[t];if(c){const f=c.offsetWidth,o=t*f;e.current.scrollTo({left:o,behavior:"smooth"})}}}},[]);return{containerRef:e,handleCardClick:s}},S=({images:e})=>{const[s,t]=h.useState(0),[l,c]=h.useState(!1),{link:f}=b(),{containerRef:o,handleCardClick:u}=v(),r=e&&Array.isArray(e)?e:[];k(o,t,l);const g=a=>{const i=Math.max(0,s-1);t(i),u(i)},_=a=>{const i=Math.min(r.length-1,s+1);t(i),u(i)};return h.useEffect(()=>{t(0),c(!0),o.current&&(o.current.scrollLeft=0);const a=setTimeout(()=>{c(!1)},100);return()=>clearTimeout(a)},[o,f,r.length]),h.useEffect(()=>{r.length>0&&s>=r.length&&t(0)},[r.length,s]),n.jsxs("div",{"data-testid":"slider-container",className:d["slider-container"],children:[s>0&&n.jsx("button",{title:"scroll-to-left",className:d["slider-to-left-btn"],onClick:()=>g(),children:n.jsx(m,{"data-testid":"font-awesome-icon",icon:x,size:"2x"})}),s<r.length-1&&n.jsx("button",{title:"scroll-to-right",className:d["slider-to-right-btn"],onClick:()=>_(),children:n.jsx(m,{"data-testid":"font-awesome-icon",icon:p,size:"2x"})}),r.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:d["slider-pagination-container"],children:r.map((a,i)=>n.jsx("button",{title:`scroll-to-item-${i}`,className:d[`slider-pagination-btn${s===i?"-active":""}`],onClick:()=>{t(i),u(i)},children:"â€¢"},`scroll-to-${a}`))}),n.jsx("div",{className:d["slider-scrollable-block"],ref:o,children:r.map(a=>n.jsx(j,{image:a},a))})]})]})};export{S};
