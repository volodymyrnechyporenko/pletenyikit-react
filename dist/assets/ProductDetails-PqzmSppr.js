import{j as s,u as j,r as m,L as u}from"./index-nzXiJc69.js";import{S as k}from"./Slider-1cI9tUjt.js";import{u as N}from"./useDetectDataType-DnSVmkC_.js";const t={"product-similar":"_product-similar_cc7g3_1","product-details-skeleton":"_product-details-skeleton_cc7g3_13","skeleton-heading":"_skeleton-heading_cc7g3_18","skeleton-title":"_skeleton-title_cc7g3_19","skeleton-text":"_skeleton-text_cc7g3_20","skeleton-price":"_skeleton-price_cc7g3_21","skeleton-slider":"_skeleton-slider_cc7g3_22"},v=({item:i})=>{const e=i!=null&&i.img?`/img/${i.img}`:"/img/placeholder.jpg",l=(i==null?void 0:i.price)??0;return s.jsxs("div",{className:"product","data-testid":"product-container",children:[s.jsx("div",{className:"product-price","data-testid":"product-price",children:l}),s.jsx("img",{loading:"lazy",src:e,className:"product-image",alt:"","data-testid":"product-image"})]})},A=()=>{const{link:i}=j(),[e,l]=m.useState(null),{category:p,products:d}=N();if(m.useEffect(()=>{if(i){const c=d.find(a=>a.link===i);c&&l(c)}},[i,d]),!e)return s.jsxs("div",{className:t["product-details-skeleton"],children:[s.jsx("div",{className:"heading",children:s.jsx("div",{className:t["skeleton-heading"]})}),s.jsxs("div",{className:"item-all",children:[s.jsx("div",{className:"item-left",children:s.jsx("div",{className:t["skeleton-slider"]})}),s.jsxs("div",{className:"item-right",children:[s.jsx("div",{className:t["skeleton-title"]}),s.jsx("div",{className:t["skeleton-text"]}),s.jsx("div",{className:t["skeleton-text"]}),s.jsx("div",{className:t["skeleton-text"]}),s.jsx("div",{className:t["skeleton-price"]})]})]})]});const n=e.images&&Array.isArray(e.images)?e.images:[],o=e.description&&Array.isArray(e.description)?e.description:[],r=e.similar&&Array.isArray(e.similar)?e.similar:[],x=e.category||"Товар",g=e.name||"",h=e.price??0;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"heading",children:s.jsx("h1",{children:x})}),s.jsxs("div",{className:"item-all",children:[s.jsx("div",{className:"item-left",children:n.length>0?s.jsx(k,{images:n}):s.jsx("div",{className:t["skeleton-slider"]})}),s.jsxs("div",{className:"item-right",children:[s.jsx("h2",{children:g}),o.length>0&&o.map((c,a)=>s.jsx("p",{children:c},`desc-${a}`)),s.jsxs("div",{className:"price",children:[h," грн"]})]})]}),r.length>0&&s.jsx("h3",{children:"Схожі товари"}),r.length>0&&s.jsx("div",{className:t["product-similar"],children:r.map((c,a)=>c.link&&s.jsx(u,{to:`/${p}/${c.link}`,children:s.jsx(v,{item:c})},c.link||`similar-${a}`))})]})};export{A as default};
